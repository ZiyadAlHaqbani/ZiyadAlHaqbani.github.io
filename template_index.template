<html>

<head>
    <title>Ziyad Alhaqbani's tech blog</title>
    <style>
        .main-column {
            display: flex;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }

        div.header {
            position: absolute;
            top: 0;
            left: 0;
            height: 50%;
            width: 100%;
            padding: 1rem;

            justify-items: center;
            align-items: center;

            background:
                url(images/texture.png) repeat,
                white;
            border-bottom-right-radius: 1rem;
            border-bottom-left-radius: 1rem;
            transform: translateY(-85%);
            z-index: 10;

            box-shadow: 0px 0px 2px black;
            transition: 0.2s ease;
        }

        div.header:hover {
            transform: translateY(-82.5%);
            cursor: pointer;
        }

        div.header-spacer {
            display: flex;
            height: 10%;
        }

        div.header-down {
            /* overwrites the hover style */
            transform: translateY(0%) !important;
            cursor: default !important;
        }

        .header .loc-item {
            max-width: 200px;
            height: 200px;
        }

        .blogs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(16em, 1fr));
            grid-auto-rows: minmax(16em, auto);
            gap: 4em;

            box-shadow: inset 0px 0px 16px black;

            padding: 2em;
            overflow: auto;
            border-radius: 1rem;
            max-height: 80%;

            background:
                url(images/bg.png);
            z-index: -8;
        }

        .middle-section {
            display: flex;
            flex-direction: row;
            flex-grow: 1;
            border-radius: 1rem;

            padding-bottom: 0.5em;
        }

        .middle-section>* {
            border-radius: 1rem;
            margin: 0.25em;
        }

        .loc-item.disabled {
            pointer-events: none;
            opacity: 0.75;
            cursor: default;
        }

        .loc-item>* {
            text-align: center;
            text-wrap: 1;
            font-size: larger;
        }

        .article-body-wrapper {
            display: flex;
            flex-grow: 1;
            overflow: hidden;
            margin-inline: 2rem;
            background:
                url(images/bg.png);
            box-shadow: inset 0px 0px 16px black;
        }

        .article-body {
            display: flex;
            flex-grow: 1;
            scrollbar-width: none;
            opacity: 1;
            transition:
                transform 0.5s ease;

            border-bottom-left-radius: 2rem;
            border-bottom-right-radius: 2rem;
            margin-inline: 4em;
            box-shadow: inset 0px 0px 16px black;
            background:
                url(images/texture.png),
                white;
        }

        .article-body>* {
            margin-inline: 1em;
        }

        .article-body.scroll-to-new-page {
            transform: translateY(-110%);
            pointer-events: none;
        }

        .article-body::-webkit-scrollbar {
            display: none;
        }

        .background {
            background: radial-gradient(circle at center, rgba(1, 1, 1, 0.1), rgba(0, 0, 0, 0.0));
        }

        html,
        body {
            margin: 0;
            padding: 0;
        }

        html {
            background:
                radial-gradient(circle at 25% 20%,
                    rgba(255, 255, 255, 0.5),
                    rgba(0, 0, 0, 0.5)),
                url(images/texture.png);
            background-blend-mode: multiply;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .loc-item-outer {
            display: flex;

            align-items: center;
            justify-content: center;

            border-radius: 1rem;

            width: 82.5%;
            height: 82.5%;
            box-sizing: border-box;

            background:
                linear-gradient(to bottom,
                    rgba(255, 255, 255, 0.12) 0%,
                    /* top rim highlight */
                    rgba(0, 0, 0, 0.35) 100%
                    /* bottom rim shadow */
                );
            box-shadow:
                inset 0 3px 12px rgba(0, 0, 0, 1),
                /* inner dark shadow for depth */
                inset 0 -3px 6px rgba(255, 255, 255, 0.215);
            /* inner light for edge */
        }

        .loc-item {
            flex: 1;
            display: flex;
            cursor: pointer;
            position: relative;

            border-radius: 1rem;
            background: gray;
            box-shadow: 0px 0px 8px black;

            align-items: center;
            justify-content: center;

            height: 100%;
            width: 100%;

            transition: 0.1s ease;
        }

        .loc-item:hover {
            scale: 0.9725;
        }

        .loc-item:active {
            scale: 0.945;
        }

        .loc-item-inner {
            display: flex;
            width: 95%;
            height: 95%;

            align-items: center;
            justify-content: center;
            box-shadow: inset 0px 0px 8px black;
            text-wrap: 1;

            border-radius: 1rem;
            background: white;
        }
    </style>
</head>

<body>
    <div class="main-column">
        <div class="header" onclick="onHeaderClick()">
            <div class="blogs-grid">
            _blog_pages_
            _time_stamp_
            </div>
        </div>
        <div class="header-spacer">
        </div>
        <div class="middle-section">
            <div class="article-body-wrapper">
                <iframe id="article" class="article-body"
                    src="pages/Writing_an_arbitrary_size_integer_type_in_CS/index.html" frameborder="0">
                </iframe>
            </div>
        </div>
    </div>
    </div>
    <audio id="sound-player" src="click.mp3"></audio>
</body>

<script>
    const header = document.querySelector(".header");
    function onHeaderClick() {
        header.classList.add("header-down");
    }

    function changeArticle(event) {
        event.stopPropagation();
        const newSrc = event.currentTarget.dataset.articleSrc;
        const article = document.getElementById("article");

        // lock all buttons
        const buttons = document.querySelectorAll(".loc-item")
        buttons.forEach(btn => { btn.classList.add("disabled") })

        // play sound
        let soundPlayer = document.getElementById("sound-player");
        soundPlayer.pause()
        soundPlayer.currentTime = 0; // reset sound
        soundPlayer.play();

        // Start fade out
        article.classList.add("scroll-to-new-page");


        // close the header
        header.classList.remove("header-down");

        // When iframe finishes animation, change src
        setTimeout(() => {
            article.src = newSrc;
            buttons.forEach(btn => { btn.classList.remove("disabled") })
        }, 200); // slightly more than CSS transition duration for smoothness
    }

    // Fade-in after iframe has loaded
    document.getElementById("article").addEventListener("load", () => {
        setTimeout(() => {
            const article = document.getElementById("article");
            article.classList.remove("scroll-to-new-page");
        }, 400);
    });

    // Activate the dropdown header immediately to present menu to users
    setTimeout(() => {
        header.classList.add("header-down");
    }, 100);
</script>

</html>